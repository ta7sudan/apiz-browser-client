{"version":3,"file":"apizclient.min.js","sources":["../../node_modules/tinyjx/dist/tinyjx.esm.js","apizclient.js"],"sourcesContent":["/**\n * @Version 0.3.6\n * @Author: ta7sudan\n * @Repo: https://github.com/ta7sudan/tinyjx#readme\n * @License: MIT\n */\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/* global false */\nconst isFn = fn => typeof fn === 'function';\n\nconst isJSON = cType => /application\\/json/i.test(cType);\n\nconst isForm = cType => /application\\/x-www-form-urlencoded/i.test(cType);\n\nconst isStr = v => v && typeof v === 'string';\n\nconst isObj = o => Object.prototype.toString.call(o) === '[object Object]';\n\nconst xhrPool = [],\n      ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor,\n      MIME = {\n  json: 'application/json',\n  form: 'application/x-www-form-urlencoded',\n  html: 'text/html',\n  xml: 'application/xml',\n  text: 'text/plain'\n},\n      events = ['onloadstart', 'onprogress', 'onabort', 'onerror', 'onload', 'ontimeout', 'onloadend', 'onreadystatechange'];\nlet jsonpId = Date.now(),\n    cacheRand = Date.now() + 5,\n    globalSerialize = null,\n    globalDeserialize = null;\n\nfunction createXhr() {\n  const xhr = new XMLHttpRequest();\n  Object.defineProperty(xhr, '_active', {\n    value: false,\n    writable: true,\n    enumerable: false\n  });\n\n  return xhr;\n}\n\nfunction resetXhr(xhr) {\n  // responseType, withCredentials以及header相关的会在open后重置\n  xhr._active = false; // 可能是同步请求那就不能设置timeout\n\n  try {\n    xhr.timeout = 0;\n    xhr.requestURL = '';\n    /* eslint-disable-next-line */\n  } catch (e) {}\n\n  events.forEach(v => xhr[v] = null);\n  xhr.upload && events.forEach(v => xhr.upload[v] = null);\n}\n\nfunction xhrFactory() {\n  for (let i = 0, len = xhrPool.length; i < len; ++i) {\n    if (!xhrPool[i]._active) {\n      return xhrPool[i];\n    }\n  }\n\n  return createXhr();\n}\n\nfunction querystring(obj) {\n  if (isObj(obj)) {\n    return Object.keys(obj).map(k => Array.isArray(obj[k]) ? obj[k].map(v => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`).join('&') : `${encodeURIComponent(k)}=${encodeURIComponent(obj[k])}`).join('&');\n  } else {\n    return JSON.stringify(obj);\n  }\n}\n\nfunction defaultSerialize({\n  data,\n  method,\n  contentType = MIME.json,\n  url,\n  cache\n}) {\n  if (!cache) {\n    url += ~url.indexOf('?') ? `&_=${++cacheRand}` : `?_=${++cacheRand}`;\n  }\n\n  if (method === 'GET' || method === 'HEAD') {\n    return {\n      url,\n      data\n    };\n  }\n\n  if (data instanceof Document || // URLSearchParams和ReadableStream暂时不考虑支持了, 浏览器版本要求比较高\n  // data instanceof URLSearchParams ||\n  // data instanceof ReadableStream ||\n  data instanceof Blob || data instanceof FormData || data instanceof ArrayBuffer || data instanceof ArrayBufferView || typeof data === 'string') {\n    return {\n      url,\n      data\n    };\n  }\n\n  if (isJSON(contentType)) {\n    data = JSON.stringify(data);\n  } else if (isForm(contentType)) {\n    data = querystring(data);\n  } else {\n    throw new TypeError('Unknown data type, you can provide a custom serialize function in options to override the default.');\n  }\n\n  return {\n    url,\n    data\n  };\n}\n\nfunction defaultDeserialize({\n  data,\n  contentType,\n  acceptType\n}) {\n  let rst = null;\n\n  if (isStr(data) && (isJSON(contentType) || isJSON(acceptType))) {\n    try {\n      rst = JSON.parse(data);\n    } catch (e) {\n      console.error('Invalid json string');\n      rst = data;\n    }\n  } else {\n    rst = data;\n  }\n\n  return rst;\n}\n\nfunction setHeaders(xhr, headers) {\n  if (isObj(headers)) {\n    Object.keys(headers).forEach(k => xhr.setRequestHeader(k, headers[k]));\n  }\n}\n\nfunction setEvents(target, evts) {\n  if (isObj(evts) && target) {\n    // 不用addEventListener是它不方便reset\n    Object.keys(evts).filter(k => events.indexOf(k) !== -1).forEach(k => target[k] = evts[k]);\n  }\n}\n\nfunction jsonp(options) {\n  let {\n    url,\n    cache = false,\n    crossorigin,\n    callbackName,\n    success,\n    beforeSend,\n    complete,\n    error\n  } = options;\n  const hasOriginalCb = isFn(window[callbackName]);\n\n  if (isStr(callbackName) && !hasOriginalCb) {\n    throw new Error(`${callbackName} is not a function.`);\n  }\n\n  const hasSuccessCb = isFn(success),\n        hasErrorCb = isFn(error),\n        hasCompleteCb = isFn(complete),\n        originalCb = hasOriginalCb ? window[callbackName] : undefined;\n\n  if (!hasSuccessCb && !hasCompleteCb & !hasOriginalCb) {\n    throw new Error('Must set a success callback or complete callback.');\n  }\n\n  if (!isStr(url)) {\n    throw new TypeError(`url expected a non empty string, but received ${JSON.stringify(url)}.`);\n  }\n\n  const hasCustomCbName = isStr(callbackName),\n        cbName = hasCustomCbName ? callbackName : `jsonp${++jsonpId}`,\n        script = document.createElement('script');\n\n  if (url.split('?').length < 3) {\n    // 没有占位符的话默认callback\n    const qs = `callback=${encodeURIComponent(cbName)}`;\n    url = ~url.indexOf('?') ? `${url}&${qs}` : `${url}?${qs}`;\n  } else {\n    url = url.replace(/\\?(.+)=\\?/, `?$1=${encodeURIComponent(cbName)}`);\n  }\n\n  !cache && (url += `&_=${++cacheRand}`);\n\n  if (!window[cbName] || !window[cbName].hasHook) {\n    window[cbName] = function (...args) {\n      // 放前面, 防止后面的callback抛异常导致删不掉\n      if (!hasCustomCbName) {\n        delete window[cbName];\n      }\n\n      try {\n        if (hasOriginalCb) {\n          originalCb(...args);\n        } else if (hasSuccessCb) {\n          success(...args);\n        }\n\n        hasCompleteCb && complete('success');\n        hasOriginalCb && (window[callbackName] = originalCb);\n      } catch (e) {\n        // 个人觉得应该crash掉让用户修复异常而不是继续执行complete\n        // 所以这里只是为了还原window上原有的函数而不是为了吞掉异常\n        hasOriginalCb && (window[callbackName] = originalCb);\n        throw e;\n      }\n    };\n\n    window[cbName].hasHook = true;\n  }\n\n  script.onerror = function (e) {\n    document.body.removeChild(script);\n\n    if (!hasCustomCbName) {\n      delete window[cbName];\n    } // 都没有的话就继续抛出异常, 方便异常监控系统捕获\n\n\n    if (!hasErrorCb && !hasCompleteCb) {\n      throw new Error(`Load script ${url} failed.`);\n    }\n\n    hasErrorCb && error(new Error(`Load script ${url} failed.`), e);\n    hasCompleteCb && complete('error');\n  };\n\n  script.onload = () => setTimeout(() => document.body.removeChild(script), 3000);\n\n  crossorigin && (script.crossOrigin = crossorigin);\n  script.src = url;\n\n  if (isFn(beforeSend)) {\n    setTimeout(() => {\n      // 允许拦截掉不发送请求\n      const rst = beforeSend(url, options);\n      rst !== false && document.body.appendChild(script);\n    });\n  } else {\n    document.body.appendChild(script);\n  }\n}\n\nfunction getResponse(xhr, key) {\n  // 在有responseType的情况下, 访问responseXML, responseText等都有可能抛出异常\n  try {\n    return xhr[key];\n  } catch (e) {\n    return null;\n  }\n}\n\nfunction ajax(options) {\n  let {\n    url = location.href,\n    method = 'GET',\n    contentType: reqCtype,\n    beforeSend,\n    complete,\n    data: reqRawData,\n    dataType: acceptType = 'json',\n    error,\n    headers,\n    mimeType,\n    responseType = '',\n    username,\n    password,\n    success,\n    timeout = 0,\n    ontimeout,\n    events,\n    uploadEvents,\n    withCredentials = false,\n    cache = true,\n    serialize,\n    deserialize\n  } = options;\n  method = method.toUpperCase().trim(); // IE是什么...\n  // xhr不支持CONNECT, TRACE, TRACK方法\n\n  if (!(['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS'].indexOf(method) !== -1)) {\n    throw new Error(`Invalid HTTP method: ${method}`);\n  } // 允许所有callback都没有\n  // 准备数据\n\n\n  if (isStr(reqCtype)) {\n    MIME[reqCtype] && (reqCtype = MIME[reqCtype]);\n  } else if (reqCtype) {\n    throw new TypeError('contentType could be \"json\", \"form\", \"html\", \"xml\", \"text\" or other custom string.');\n  }\n\n  const slz = isFn(serialize) ? serialize : isFn(globalSerialize) ? globalSerialize : defaultSerialize,\n        dslz = isFn(deserialize) ? deserialize : isFn(globalDeserialize) ? globalDeserialize : defaultDeserialize,\n        protocol = /^([\\w-]+:)\\/\\//.exec(url)[1],\n        xhr = xhrFactory(),\n        hasCompleteCb = isFn(complete),\n        hasErrorCb = isFn(error),\n        hasSuccessCb = isFn(success);\n  let reqData,\n      errCalled = false,\n      completeCalled = false; // 这里不用捕获异常去重置xhr是因为xhr还没激活\n\n  ({\n    url,\n    data: reqData\n  } = slz({\n    data: reqRawData,\n    method,\n    contentType: reqCtype,\n    url,\n    cache\n  })); // 初始化xhr\n\n  xhr._active = true;\n  xhr.open(method, url, true, username, password);\n  !xhr.requestURL && (xhr.requestURL = url); // 设置必要的头部\n\n  if (reqCtype) {\n    xhr.setRequestHeader('Content-Type', reqCtype);\n  } else if (isStr(reqData)) {\n    // 不在默认参数设json是为了让FormData之类的能够由浏览器自己设置\n    // 这里只对字符串的body设置默认为json\n    xhr.setRequestHeader('Content-Type', MIME.json);\n  }\n\n  if (isStr(acceptType)) {\n    MIME[acceptType] && (acceptType = MIME[acceptType]);\n    xhr.setRequestHeader('Accept', acceptType);\n  }\n\n  setHeaders(xhr, headers);\n  isStr(mimeType) && xhr.overrideMimeType(mimeType); // 主要是给progress等事件用, 但存在破坏封装的风险\n\n  setEvents(xhr, events);\n  setEvents(xhr.upload, uploadEvents);\n  withCredentials && (xhr.withCredentials = withCredentials);\n  responseType && (xhr.responseType = responseType);\n  timeout && (xhr.timeout = timeout);\n\n  if (isFn(ontimeout)) {\n    xhr.ontimeout = function (e) {\n      ontimeout(e);\n      hasCompleteCb && complete(this, 'timeout');\n    };\n  } else if (timeout && !isFn(xhr.ontimeout)) {\n    xhr.ontimeout = function () {\n      if (hasCompleteCb) {\n        complete(this, 'timeout');\n      } else {\n        // 如果没监听ontimeout但是设置了timeout, window.onerror不会捕获这个错误, 所以手动抛个\n        throw new Error(`Request ${this.requestURL} timeout.`);\n      }\n    };\n  } // loadend无论同步还是异步请求, 无论前面的事件是否抛异常, 它都会执行\n\n\n  if (isFn(xhr.onloadend)) {\n    const originalLoadend = xhr.onloadend;\n\n    xhr.onloadend = function (e) {\n      resetXhr(this);\n      originalLoadend.call(this, e);\n    };\n  } else {\n    xhr.onloadend = function () {\n      resetXhr(this);\n    };\n  } // 覆盖掉用户自定义onreadystatechange\n\n\n  xhr.onreadystatechange = function (e) {\n    if (this.readyState === 4) {\n      if (this.status >= 200 && this.status < 300 || this.status == 304 || this.status == 0 && protocol == 'file:') {\n        const resCtype = this.getResponseHeader('Content-Type'); // 这里也不用捕获异常, 因为xhr.onloadend会在之后帮我们回收xhr\n\n        const resData = dslz({\n          data: getResponse(xhr, 'responseXML') || getResponse(xhr, 'response') || getResponse(xhr, 'responseText'),\n          contentType: resCtype,\n          acceptType\n        }); // 异常直接抛\n\n        hasSuccessCb && success(resData, this, e);\n        hasCompleteCb && complete(this, 'success');\n      } else if (this.status !== 0) {\n        // 这类错误xhr.onerror和window.onerror都不捕获所以手动抛一个\n        if (!hasErrorCb && !hasCompleteCb) {\n          throw new Error(`Remote server error. Request URL: ${this.requestURL}, Status code: ${this.status}, message: ${this.statusText}.`);\n        } // 理论上来讲好像没必要再注册xhr.onerror了, 因为如果有error那status必然为0\n        // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/status\n        // 但是不加个心里不踏实...总感觉会不会有浏览器没按规范实现\n        // 不过知名的库页都没监听onerror, 那说明应该是都按规范实现了的\n        // 但是我要加!!!\n\n\n        if (hasErrorCb) {\n          errCalled = true;\n          error(new Error(`Remote server error. Request URL: ${this.requestURL}, Status code ${this.status}`), this, e);\n        }\n\n        if (hasCompleteCb) {\n          completeCalled = true;\n          complete(this, 'error');\n        }\n      }\n    }\n  }; // 覆盖\n\n\n  xhr.onerror = function (e) {\n    // 跨域错误会在这里捕获, 但是window.onerror不捕获, 所以也手动抛一个\n    if (!hasErrorCb && !hasCompleteCb) {\n      throw new Error(`An error occurred, maybe crossorigin error. Request URL: ${this.requestURL}, Status code: ${this.status}.`);\n    }\n\n    if (!errCalled && hasErrorCb) {\n      error(new Error(`Network error or browser restricted. Request URL: ${this.requestURL}, Status code: ${this.status}`), this, e);\n    }\n\n    if (!completeCalled && hasCompleteCb) {\n      complete(this, 'error');\n    }\n  }; // 哎...都异步吧\n\n\n  if (isFn(beforeSend)) {\n    setTimeout(() => {\n      let rst;\n\n      try {\n        rst = beforeSend(xhr, options);\n      } catch (e) {\n        // 恶心之处就在于每个用户定义的callback都可能触发异常, 然而我还要回收xhr\n        resetXhr(xhr);\n        throw e;\n      }\n\n      if (rst !== false) {\n        xhr.send(reqData || null);\n      } else {\n        resetXhr(xhr);\n      }\n    });\n  } else {\n    xhr.send(reqData || null);\n  } // 不暴露xhr\n\n\n  return {\n    abort() {\n      xhr.abort();\n    }\n\n  };\n}\n\nfunction config({\n  pool = false,\n  serialize,\n  deserialize\n} = {}) {\n  if (pool) {\n    xhrPool.length = 0;\n    let poolSize = typeof pool === 'number' ? pool : 5;\n\n    if (poolSize < 0) {\n      throw new Error('pool size must >= 0');\n    }\n\n    while (poolSize--) {\n      xhrPool.push(createXhr());\n    }\n  }\n\n  isFn(serialize) && (globalSerialize = serialize);\n  isFn(deserialize) && (globalDeserialize = deserialize);\n}\nfunction get(url, options) {\n  return ajax(_extends({}, options, {\n    url,\n    method: 'GET'\n  }));\n}\nfunction head(url, options) {\n  return ajax(_extends({}, options, {\n    url,\n    method: 'HEAD'\n  }));\n}\nfunction post(url, data, options) {\n  return ajax(_extends({}, options, {\n    url,\n    data,\n    method: 'POST'\n  }));\n}\nfunction put(url, data, options) {\n  return ajax(_extends({}, options, {\n    url,\n    data,\n    method: 'PUT'\n  }));\n}\nfunction del(url, data, options) {\n  return ajax(_extends({}, options, {\n    url,\n    data,\n    method: 'DELETE'\n  }));\n}\nfunction patch(url, data, options) {\n  return ajax(_extends({}, options, {\n    url,\n    data,\n    method: 'PATCH'\n  }));\n}\nfunction options(url, data, options) {\n  return ajax(_extends({}, options, {\n    url,\n    data,\n    method: 'OPTIONS'\n  }));\n}\n\nexport { config, ajax, jsonp, get, head, post, put, del, patch, options };\n//# sourceMappingURL=tinyjx.esm.js.map\n","/* global DEBUG */\nimport { ajax } from 'tinyjx';\n\nfunction request({ url, method, type, data, options = {}, beforeSend, afterResponse }) {\n\tif (data) {\n\t\toptions.data = data;\n\t\toptions.dataType = type;\n\t}\n\toptions.url = url;\n\toptions.method = method;\n\treturn new Promise((rs, rj) => {\n\t\tajax({\n\t\t\tbeforeSend,\n\t\t\tsuccess(data, xhr) {\n\t\t\t\ttry {\n\t\t\t\t\tafterResponse(data, xhr);\n\t\t\t\t} catch (e) {\n\t\t\t\t\trj(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\trs(data);\n\t\t\t},\n\t\t\terror: rj,\n\t\t\t...options\n\t\t});\n\t});\n}\n\n/**\n * { beforeSend, afterResponse }\n */\nexport default function (opts = {}) {\n\treturn {\n\t\t...['get', 'head'].reduce((prev, cur) =>\n\t\t\t(prev[cur] = (url, options) => request({\n\t\t\t\turl,\n\t\t\t\tmethod: cur.toUpperCase(),\n\t\t\t\toptions,\n\t\t\t\t...opts\n\t\t\t}), prev), {}),\n\t\t...['post', 'put', 'patch', 'delete', 'options'].reduce((prev, cur) =>\n\t\t\t(prev[cur] = (url, bodyOrOptions, type, isOptions) => request({\n\t\t\t\turl,\n\t\t\t\ttype,\n\t\t\t\tmethod: cur.toUpperCase(),\n\t\t\t\tdata: isOptions ? undefined : bodyOrOptions,\n\t\t\t\toptions: isOptions ? bodyOrOptions : undefined,\n\t\t\t\t...opts\n\t\t\t}), prev), {})\n\t};\n}\n"],"names":["createXhr","xhr","XMLHttpRequest","Object","defineProperty","value","writable","enumerable","resetXhr","_active","timeout","requestURL","e","events","forEach","v","upload","xhrFactory","i","len","xhrPool","length","querystring","obj","isObj","keys","map","k","Array","isArray","encodeURIComponent","join","JSON","stringify","defaultSerialize","data","method","contentType","MIME","json","url","cache","indexOf","cacheRand","Document","Blob","FormData","ArrayBuffer","ArrayBufferView","isJSON","isForm","TypeError","defaultDeserialize","acceptType","rst","isStr","parse","console","error","setHeaders","headers","setRequestHeader","setEvents","target","evts","filter","getResponse","key","ajax","options","location","href","reqCtype","beforeSend","complete","reqRawData","dataType","mimeType","responseType","username","password","success","ontimeout","uploadEvents","withCredentials","serialize","deserialize","toUpperCase","trim","Error","slz","isFn","globalSerialize","dslz","globalDeserialize","protocol","exec","hasCompleteCb","hasErrorCb","hasSuccessCb","reqData","errCalled","completeCalled","open","overrideMimeType","onloadend","originalLoadend","call","onreadystatechange","readyState","status","resCtype","getResponseHeader","resData","statusText","onerror","setTimeout","send","abort","request","type","afterResponse","Promise","rs","rj","opts","reduce","prev","cur","bodyOrOptions","isOptions","fn","cType","test","o","prototype","toString","getPrototypeOf","Uint8Array","constructor","form","html","xml","text","Date","now"],"mappings":"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"}