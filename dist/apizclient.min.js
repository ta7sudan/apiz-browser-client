/**
 * @Version 5.0.0
 * @Author: ta7sudan
 * @Repo: https://github.com/ta7sudan/apiz-browser-client#readme
 * @License: MIT
 */(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("tinyjx")):"function"==typeof define&&define.amd?define(["tinyjx"],b):(a=a||self,a.ApizClient=b(a.tinyjx))})(this,function(a){'use strict';function b(){return b=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},b.apply(this,arguments)}function c(a){return!!(a&&"function"==typeof a.then)}async function d(a,{retry:b,beforeRetry:f},g=1){let h=null;if(0>b||b>Number.MAX_SAFE_INTEGER&&b!==1/0)throw new Error("retry must be between 0 to Number.MAX_SAFE_INTEGER or be Infinity");try{h=a.call(this),c(h)&&(h=await h)}catch(c){if(f&&f(g,c),b)return d(a,{retry:--b,beforeRetry:f},++g);throw c}return h}function e({method:c,beforeSend:e,afterResponse:g,error:h,retry:i=0}){return function({url:j,options:k,body:l,headers:m,type:n,handleError:o=!0}){let p,q=0;return p=k?b({},k,{url:j,method:c}):{url:j,method:c,processData:!1,data:l,contentType:n,headers:m},d(()=>new Promise((c,d)=>{a.ajax(b({},p,{beforeSend(a){if(!q&&f(e))return e(a)},success(a,b){f(g)&&q===i&&g(a,"success",b,j,l),c({data:a,xhr:b})},recoverableError(a,b,c){f(g)&&q===i&&g(b,"error",c,j,l),f(h)&&q===i&&o&&h("recoverableError",a,b,c),d({err:a,data:b})},unrecoverableError(a,b){f(h)&&q===i&&o&&h("unrecoverableError",a,void 0,b),d({err:a,data:void 0})}}))}),{retry:i,beforeRetry(){++q}})}}const f=a=>"function"==typeof a;return function(a={}){return["get","head","post","put","patch","delete","options"].reduce((c,d)=>(c[d]=e(b({},a,{method:d.toUpperCase()})),c),{})}});
//# sourceMappingURL=apizclient.min.js.map
