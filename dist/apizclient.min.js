/**
 * @Version 4.0.0
 * @Author: ta7sudan
 * @Repo: https://github.com/ta7sudan/apiz-browser-client#readme
 * @License: MIT
 */(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("tinyjx")):"function"==typeof define&&define.amd?define(["tinyjx"],b):(a=a||self,a.ApizClient=b(a.tinyjx))})(this,function(a){'use strict';function b(f){let g,{url:h,method:i,type:j,data:k,beforeSend:l,afterResponse:m,complete:n,retry:o=0,options:p={},id:q=++e}=f;return c[q]=-~c[q],f.id=q,k&&(g=p.data=k,p.contentType=j),p.url=h,p.method=i,new Promise((e,i)=>{a.ajax(Object.assign({beforeSend:l,success(a,b){delete c[q],d(m)&&m(a,"success",b,h,g),e({$data:a,next(){d(n)&&n(a,b,h,g)}})},error(a,j,k){c[q]<o+1?e(b(f)):(delete c[q],d(m)&&m(j,"error",k,h,g),i({err:a,next(){d(n)&&n(void 0,k,h,g)}}))}},p))})}const c={},d=a=>"function"==typeof a;let e=Date.now();return function(a={}){return Object.assign({},["get","head"].reduce((c,d)=>(c[d]=({name:c,meta:e,url:f,options:g})=>b(Object.assign({},a,{url:f,method:d.toUpperCase(),options:g})),c),{}),["post","put","patch","delete","options"].reduce((c,d)=>(c[d]=({name:c,meta:e,url:f,body:g,options:h,type:i})=>b(Object.assign({},a,{url:f,type:i,options:h,method:d.toUpperCase(),data:g})),c),{}))}});
//# sourceMappingURL=apizclient.min.js.map
